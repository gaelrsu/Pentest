# Via Tools

## enum4linux
```bash
enum4linux -U 172.16.5.5  | grep "user:" | cut -f2 -d"[" | cut -f1 -d"]"
```

## rpcclient
```bash
rpcclient -U "" -N 172.16.5.5
rpcclient $> enumdomusers 
```

## CrackMapExec
```bash
crackmapexec smb 192.168.1.10 --users
```

## ldapsearch
```bash
ldapsearch -h 192.168.1.10 -x -b "DC=MYDOMAIN,DC=LOCAL" -s sub "(&(objectclass=user))"  | grep sAMAccountName: | cut -f2 -d" "
```
## windapsearch
```bash
./windapsearch.py --dc-ip 172.16.5.5 -u "" -U
```
## kerbrute
```bash
kerbrute userenum -d domain.local --dc <domainIP> /jsmith.txt
# to help you to build a dic use : https://github.com/initstring/linkedin2username
```
_____________________________________________________________________________________
# Via Command Prompt
## User 
```bash
net user /domain
net user "user.name" /domain
```
## Groups
```bash
net group /domain
net group "Group Name" /domain
```
## Password Policy
```bash
net accounts /domain
```
# Via Powershell 
```powershell
Get-AdUser -Identify username -Properties
# ad -Server domainName if you are not domain joined
```
_____________________________________________________________________________________
# Credentials Enumeration to Build an User List
```bash
crackmapexec smb 192.168.1.10 -u user -p MYAD! --users
```

